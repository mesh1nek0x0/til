# JMeter

## 概要
http://jmeter.apache.org/

* OSS
* pure Java
* 性能計測ツール
* 動的/静的ページもテストできる
* not Web Browser(JavaScriptは動かない)
* 動的にパラメータを変更したり、レスポンスを使ったり、細かい設定もできる
---

## 用語
### テスト計画
テストシナリオの実行関連をまとめた言葉

// 計画と付いており、テストシナリオ作成っぽいのがいやらしい。

---

### ワークベンチ
テストシナリオの作成関連をまとめた言葉

// 作業台といえば作業台だけど、これも名付けが微妙である。

リクエストを１つ１つ手書きで設定できる。

---

### HTTPプロキシサーバ
JMeterをプロキシサーバとしてアプリケーションサーバとの間に入れて、リクエスト結果をベースにしてテストシナリオを作れる。APIサーバとかでなければ結果ベースで作る法が楽かも。

#### 記憶コントローラ
リクエストをどこに保存するかの設定のこと

// AppScanの設定も同じようにやった覚えがある

---

### HTTPリクエスト
送信するHTTPリクエストの内容のこと

* リクエストURL
* リクエストパラメータ

ワークベンチではリクエストの記録結果になるし、
テスト計画で各スレッドがぶん投げるリクエストになる。

#### HTTPリクエスト初期値設定
HTTPリクエストを記録させる際の設定のこと

シナリオ作成と実際に検証するサーバが違う時に重宝する。

#### 正規表現抽出
テスト計画の際、レスポンスの内容を変数に保持させたいときに使う後処理のオプションのこと

* 正規表現でレスポンスから抽出
* 全部とか、何個目にhitしたものかとかを指定できる

---

### スレッドグループ
攻め方をまとめたものの名称

* 子としてHTTPリクエストをもっている
* いくつのスレッドで攻めるのか（スレッド数）
* スレッドをどのくらいの間隔で立ち上げるのか（Ramp Up期間）
* 各スレッドでHTTPリクエストを何回繰り返すのか（ループ回数）

---

### HTTPクッキーマネージャー
クッキー管理、わりとまんま。

* スレッドごとに値を保持する

（ということはループの時は使いまわされるか？）

---

### 統計レポート
HTTPリクエストの応答時間一覧

* スレッドグループごとに出るようだ
* それぞれの合計も出るようだ

---
### 結果をツリーで表示
生のレスポンスを確認したい時にみる場所の名称

* 試験時には通常お世話にならない（リソース消費が激しい）
* 挙動確認などでオススメ

---
### テスト計画の保存・再生

* 保存 -> ~.jmxというファイルをOUT
* インポートして、再生すれば簡単試験開始

---
### CVS Data Set Config
スレッドごとに異なるパラメータを投げさせたい時に使う。

// 全部のスレッドが同じリクエストを送っているのは非現実的だもの

* 変数名もカンマ区切りで指定
* ${< vars >}で参照できる // bashの変数参照みたいですね
* 行ごとにスレッドが割り当てられる // 過不足ってどうなるんや
