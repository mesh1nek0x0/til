# デフォルトゲートウェイ
他のネットワークへの出入り口。ここはそれにまつわるまとめ。

通常はDHCPサーバから教えてもらうか、自分で静的に設定することになります。

## ブロードキャストドメイン
ルータはブロードキャストを外へ流さないため（流してしまうとインターネットがパケットで溢れる...）、

ブロードキャストが届く範囲が区切られます。これがブロードキャストドメインです。

※L2のブリッジやスイッチは衝突ドメインを区切りましたね。

### ARPとブロードキャストドメイン
伝送を行うためには宛先・送信元それぞれの論理アドレス・物理アドレスが必要です。

* 自分のMACアドレス
 * NICを刺した時に自動的にわかりますね
* 自分のIPアドレス
 * DHCPから割り当ててもらいます
* 相手のIPアドレス
 * これはDNSから教えてもらいますね
* 相手のMACアドレス
 * これはARPでGETしますね！

しかし、ARPのパケットはブロードキャストのため、このままでは違うネットワークのMACアドレスを知ることができない。

### 他のネットワークへの出入り口ことデフォルトゲートウェイ
もともとMACアドレスは同一ネットワーク内で通信するための識別子です。

そのため、異なるネットワークのMACアドレスが知りたい場合は、ネットワーク間の通信を行うルータのデフォルトゲートウェイにデータを流します。

その後ルータが宛先のIPアドレスから次に経由するルータのネットワークアドレスを知り、当該ネットワークのルータへMACアドレスを要求することになります。

（説明にはルータ間もARPになっていたけど、ARPはブロードキャストなので問題起きないのかしら）
