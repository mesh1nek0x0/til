# L2 switchについて
一般的にはスイッチングハブと呼ばれるものについてです。

機能自体はブリッジに似ているらしい、ほう。

switchのいいところは、ポートごとに衝突ドメインが区切られるため、

ブリッジを使うよりも帯域の効率がアップするところがとてもよいところです。

## いうならばマルチポートブリッジ
スイッチもブリッジと同様にMACアドレスによるフィルタリングを行う。

ただし、違うセグメントに送信する・しないといったざっくりした判断ではなく

各接続ポートにつながっている端末をアドレステーブルで管理して、その端末にだけフレームを送信する点が異なる。

こっちのほうが精密ですね。そのため、使用するう（switchに接続した）ポートが異なれば複数のノードで同時に送受信が可能となる。

ただしあくまでswitchのポート単位でしかフィルターしないため、ポートの先にハブがあるとこれは達成できない。

※switchの先にハブがあるような場合、switchのポートでは以下のようなアドレスとなる

* ポート1：nodeA, BのMACアドレス
* ポート2：nodeCのMACアドレス
* ポート3：nodeDのMACアドレス

```
[nodeA]-┳-[hub]-[switch]-┳-[nodeC]
[nodeB]-┛                ┗-[nodeD]
```

### ストアアンドフォーワード方式
以下のような構成の際に、nodeC, DからnodeA宛にほぼ同時に伝送を開始した場合、

switch内のメモリにてフレームをバッファリングして衝突を避ける仕組みが存在する。

```
[nodeA]-┳-[switch]-┳-[nodeC]
[nodeB]-┛          ┗-[nodeD]
```

一旦ストアして、伝送路が空いていたらフォーワードする。という意味らしい。

現在のswitchにもこの方式が多いのはファストイーサネットの下位互換性担保のためです。

（10Mbps---100Mbpsといった接続の場合、どうしても10Mbps側がボトルネックとなるため）
